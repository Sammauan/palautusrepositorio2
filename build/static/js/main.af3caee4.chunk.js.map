{"version":3,"sources":["components/Person.js","components/PersonsList.js","components/PersonsForm.js","components/Warning.js","components/Success.js","services/persons.js","App.js","index.js"],"names":["Person","props","name","number","onClick","handler","id","PersonsList","persons","console","log","map","person","key","handleNameRemove","PersonsForm","onSubmit","addname","onChange","namechange","numberchange","type","Warning","message","className","Success","axios","get","newObject","post","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","then","response","data","event","preventDefault","personObject","concat","setTimeout","catch","error","target","value","hlo","find","Number","window","confirm","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.af3caee4.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  return (\n    <div>\n    <p> {props.name} {props.number}  <button onClick={props.handler} id= {props.id} >delete</button> </p>\n     </div>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst PersonsList = (props) => {\n  let persons= props.persons\n  console.log(props.persons)\n\n  return (\n    persons.map(person => \n      <Person key={person.name} name={person.name} number={person.number} id={person.id} handler= {props.handleNameRemove} />\n    )\n  )\n}\n\nexport default PersonsList","import React from 'react'\n\nconst PersonsForm = (props) => {\n  return (\n    <form onSubmit={props.addname}>\n      <div>\n        name: <input \n        onChange={props.namechange}\n      />\n      </div>\n      <div>number: <input \n        onChange={props.numberchange}\n      />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonsForm","import React from 'react'\n\nconst Warning = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"warning\">\n      {message}\n    </div>\n  )\n}\n\nexport default Warning","import React from 'react'\n\nconst Success = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport default Success","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  remove: remove \r\n}","import React, { useState, useEffect } from 'react'\nimport PersonsList from './components/PersonsList'\nimport PersonsForm from './components/PersonsForm'\nimport Warning from './components/Warning'\nimport Success from './components/Success'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ successMessage, setSuccessMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n  \n    personService\n      .create(personObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setSuccessMessage(\n          `Added ${personObject.name} `\n        )\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 5000)\n      })\n\n      .catch (error => {\n        setErrorMessage(\n          `Adding of ${personObject.name} failed`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n     })\n  }\n\n  const removeName = (value) => {  \n    let id = value.target.id\n\n    let hlo = persons.find(person => Number(person.id) === Number(id))\n    if (window.confirm(\"Delete \" + hlo.name)) { \n      personService\n        .remove(id)\n        .then (response => {\n          console.log(response)\n          setPersons(persons.filter(person => Number(person.id) !== Number(id)),\n          setSuccessMessage(\n            ` ${hlo.name} deleted `\n          ),\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n          )})\n\n          .catch (error => {\n            setErrorMessage(\n              `Person '${hlo.name}' was already removed from server. Reload the page`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n         })\n    }\n\n}\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Warning message={errorMessage} />\n      <Success message={successMessage} />\n      <PersonsForm addname= {addName} namechange= {handleNameChange} numberchange= {handleNumberChange} />\n      <h2>Numbers</h2>\n      <PersonsList persons= {persons} handleNameRemove= {removeName}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}