(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),u=t(13),r=t.n(u),l=t(2),o=function(e){return c.a.createElement("div",null,c.a.createElement("p",null," ",e.name," ",e.number,"  ",c.a.createElement("button",{onClick:e.handler,id:e.id},"delete")," "))},i=function(e){var n=e.persons;return console.log(e.persons),n.map((function(n){return c.a.createElement(o,{key:n.name,name:n.name,number:n.number,id:n.id,handler:e.handleNameRemove})}))},m=function(e){return c.a.createElement("form",{onSubmit:e.addname},c.a.createElement("div",null,"name: ",c.a.createElement("input",{onChange:e.namechange})),c.a.createElement("div",null,"number: ",c.a.createElement("input",{onChange:e.numberchange})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add")))},s=function(e){var n=e.message;return null===n?null:c.a.createElement("div",{className:"warning"},n)},d=function(e){var n=e.message;return null===n?null:c.a.createElement("div",{className:"success"},n)},f=t(3),g=t.n(f),b=function(){return g.a.get("/api/persons")},p=function(e){return g.a.post("/api/persons",e)},h=function(e){return g.a.delete("".concat("/api/persons","/").concat(e))},v=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),f=o[0],g=o[1],v=Object(a.useState)(""),E=Object(l.a)(v,2),j=E[0],O=E[1],S=Object(a.useState)(null),w=Object(l.a)(S,2),k=w[0],y=w[1],N=Object(a.useState)(null),T=Object(l.a)(N,2),C=T[0],R=T[1];Object(a.useEffect)((function(){b().then((function(e){u(e.data)}))}),[]);return c.a.createElement("div",null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement(s,{message:k}),c.a.createElement(d,{message:C}),c.a.createElement(m,{addname:function(e){if(e.preventDefault(),t.find((function(e){return e.name===f})))window.alert("".concat(f," is already added to phonebook"));else{var n={name:f,number:j};p(n).then((function(e){u(t.concat(e.data)),R("Added ".concat(n.name," ")),setTimeout((function(){R(null)}),5e3)})).catch((function(e){y("Adding of ".concat(n.name," failed")),setTimeout((function(){y(null)}),5e3)}))}},namechange:function(e){console.log(e.target.value),g(e.target.value)},numberchange:function(e){console.log(e.target.value),O(e.target.value)}}),c.a.createElement("h2",null,"Numbers"),c.a.createElement(i,{persons:t,handleNameRemove:function(e){var n=e.target.id,a=t.find((function(e){return String(e.id)===String(n)}));window.confirm("Delete "+a.name)&&h(n).then((function(e){console.log(e),u(t.filter((function(e){return String(e.id)!==String(n)})),R(" ".concat(a.name," deleted ")),setTimeout((function(){R(null)}),5e3))})).catch((function(e){y("Person '".concat(a.name,"' was already removed from server. Reload the page")),setTimeout((function(){y(null)}),5e3)}))}}))};t(36);r.a.render(c.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6efa09df.chunk.js.map